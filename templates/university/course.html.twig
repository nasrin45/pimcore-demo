{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('css/header.css') }}">
    <link rel="stylesheet" href="{{ asset('css/footer.css') }}">
{% endblock %}
 {{ pimcore_head_title("Courses") }}
{% block body %}
    {% include 'header.html.twig' %}


    {% block content %}
        <h1>{{ pimcore_input("headline", {"width": 540}) }}</h1>


        {% for i in pimcore_block('courseblock').iterator %}
            <h3>{{ pimcore_input("course", {"width": 240}) }}</h3>


            {% if editmode %}
                {{ pimcore_relation("details") }}
            {% else %}
                {% set courseRelation = pimcore_relation("details") %}
                {% if courseRelation %}
                    {% set course = courseRelation.element %}
                    {% if course %}
                        {% if course.course is not null %}
                            {% for courseItem in course.course.items %}
                                <h2>{{ courseItem.name }}</h2>
                                <p><strong>Subjects: </strong>{{ courseItem.subjects | join(', ') }}</p>
                                <p><strong>Course Duration: </strong>{{ courseItem.duration }} Years</p>
                                {% if courseItem.image is instanceof('Pimcore\\Model\\Asset\\Image') %}
                                    <img src="{{ courseItem.image.getThumbnail('Course') }}">
                                {% endif %}
                            {% endfor %}
                        {% endif %}
                        <p><strong>Description: </strong>{{ course.description }}</p>
                        <p><strong>More About Department: </strong><a href="{{ course.getDetailed().getPath() }}">Departments</a> </p>
                    {% endif %}
                {% endif %}
            {% endif %}


            {% if editmode %}
            {{ pimcore_multiselect('courseCategories', {
                'width': 200,
                'height': 100,
                'store': [
                    ['Computer Science', 'Computer Science'],
                    ['Maths', 'Mathematics'],
                    ['Physics', 'Physics'],
                    ['Chemistry', 'Chemistry'],
                    ['English', 'English'],
                ]
            }) }}
        {% else %}
            <p>{{ 'This course has the following subjects:' | trans }}
                {% for categoryKey in pimcore_multiselect('courseCategories').getData %}
                    <span>{{ categoryKey | trans }}</span>
                {% endfor %}
            </p>
        {% endif %}
            <div class="pdf">
                Course Details
                {{ pimcore_pdf("myPdf", {"width": 640}) }}
            </div>
        {% endfor %}


    {% endblock %}


    {{ pimcore_snippet("mySnippet", {"width": 250, "height": 100}) }}


{% endblock %}
